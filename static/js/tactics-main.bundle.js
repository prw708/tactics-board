"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[231],{815:function(t,e,n){n.d(e,{b:function(){return o}});var r=n(856),a=n.n(r);function o(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(t){return new bootstrap.Tooltip(t)}))}function c(t){var e=document.querySelectorAll(".col-sm-7.mb-sm-0.rating"),n=e[t].textContent.substring(0,e[t].textContent.indexOf("/")).trim();return n&&"-"!==n?parseFloat(n):0}window.addEventListener("load",(function(){(function(){for(var t=document.querySelectorAll(".stars.mb-4"),e=0;e<t.length;e++)for(var n=t[e].querySelectorAll(".star"),r=0;r<n.length;r++)n[r].addEventListener("mouseover",(function(t){var e=t.target.parentNode.querySelectorAll(".star"),n=document.querySelectorAll(".stars.mb-4"),r=0;if(n)for(var a=0;a<n.length;a++)if(n[a].contains(t.target)){r=c(a);break}for(var o=0;o<e.length;o++)e[o].className="star star-icon";for(var s=1;s<=e.length;s++)for(var i=1;i<=s&&(e[i-1].className=r<=s?"star star-fill-icon":"star star-icon",!e[i-1].contains(t.target));i++);}),!1),n[r].addEventListener("mouseout",(function(t){var e=t.target.parentNode.querySelectorAll(".star"),n=document.querySelectorAll(".stars.mb-4"),r=0;if(n)for(var a=0;a<n.length;a++)if(n[a].contains(t.target)){r=c(a);break}for(var o=0;o<e.length;o++)e[o].className="star star-icon";for(var s=1;s<=e.length;s++)for(var i=1;i<=s;i++)e[i-1].className=r-i+1>=.5&&r-i+1<1?"star star-half-icon":r>=i?"star star-fill-icon":"star star-icon"}),!1),n[r].addEventListener("click",(function(t){var e,n,r=t.target.parentNode.querySelectorAll(".star-fill-icon").length,o=t.target.parentNode.parentNode.querySelector(".col-sm-7.mb-sm-0.rating").id;o=o.substring(o.indexOf("_")+1);try{e=document.querySelector('meta[name="csrf-token"]').getAttribute("content"),n=document.querySelector("#preview_".concat(o)).getAttribute("data-recaptchaSiteKey")}catch(t){e="",n=""}var c=new XMLHttpRequest;if(!c)return null;grecaptcha.ready((function(){grecaptcha.execute(a().sanitize(n),{action:"rate"}).then((function(t){c.open("POST","/projects/tactics-board/rate",!0),c.setRequestHeader("X-Requested-With","XMLHttpRequest"),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.setRequestHeader("CSRF-Token",a().sanitize(e)),c.send(encodeURIComponent("rating")+"="+encodeURIComponent(a().sanitize(r))+"&"+encodeURIComponent("uuid")+"="+encodeURIComponent(a().sanitize(o))+"&"+encodeURIComponent("g-recaptcha-response")+"="+encodeURIComponent(a().sanitize(t)))}))})),c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(200===c.status){var t=JSON.parse(a().sanitize(c.responseText));1===t.ratingsCompleted?(document.getElementById("rating_".concat(t.uuid)).textContent="".concat(t.rating," / 5"),document.getElementById("ratingsCount_".concat(t.uuid)).textContent="".concat(t.ratingsCompleted," rating")):(document.getElementById("rating_".concat(t.uuid)).textContent="".concat(t.rating," / 5"),document.getElementById("ratingsCount_".concat(t.uuid)).textContent="".concat(t.ratingsCompleted," ratings"));for(var e=document.getElementById("rating_".concat(t.uuid)).parentNode.parentNode.querySelector(".stars.mb-4").querySelectorAll(".star"),n=parseFloat(t.rating),r=0;r<e.length;r++)e[r].className="star star-icon";for(var s=1;s<=e.length;s++)for(var i=1;i<=s;i++)e[i-1].className=n-i+1>=.5&&n-i+1<1?"star star-half-icon":n>=i?"star star-fill-icon":"star star-icon"}else{var l=JSON.parse(a().sanitize(c.responseText));document.getElementById("rating_".concat(o)).parentNode.parentNode.querySelector(".stars.desc").textContent=l}}}),!1)})(),o()}),!1),window.deleteBoardSubmit=function(t){document.getElementById("4-2-form").submit()}}},function(t){t.O(0,[565],(function(){return 815,t(t.s=815)})),t.O()}]);