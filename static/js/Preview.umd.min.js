(function(t,e){"object"===typeof exports&&"object"===typeof module?module.exports=e(require("vue")):"function"===typeof define&&define.amd?define([],e):"object"===typeof exports?exports["Preview"]=e(require("vue")):t["Preview"]=e(t["Vue"])})("undefined"!==typeof self?self:this,(function(t){return function(t){var e={};function i(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,r){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(i.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(r,n,function(e){return t[e]}.bind(null,n));return r},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="fb15")}({"00ee":function(t,e,i){var r=i("b622"),n=r("toStringTag"),s={};s[n]="z",t.exports="[object z]"===String(s)},"06cf":function(t,e,i){var r=i("83ab"),n=i("d1e7"),s=i("5c6c"),a=i("fc6a"),o=i("c04e"),h=i("5135"),l=i("0cfb"),c=Object.getOwnPropertyDescriptor;e.f=r?c:function(t,e){if(t=a(t),e=o(e,!0),l)try{return c(t,e)}catch(i){}if(h(t,e))return s(!n.f.call(t,e),t[e])}},"0cfb":function(t,e,i){var r=i("83ab"),n=i("d039"),s=i("cc12");t.exports=!r&&!n((function(){return 7!=Object.defineProperty(s("div"),"a",{get:function(){return 7}}).a}))},"1be4":function(t,e,i){var r=i("d066");t.exports=r("document","documentElement")},"1d80":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on "+t);return t}},"1dde":function(t,e,i){var r=i("d039"),n=i("b622"),s=i("2d00"),a=n("species");t.exports=function(t){return s>=51||!r((function(){var e=[],i=e.constructor={};return i[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"23cb":function(t,e,i){var r=i("a691"),n=Math.max,s=Math.min;t.exports=function(t,e){var i=r(t);return i<0?n(i+e,0):s(i,e)}},"23e7":function(t,e,i){var r=i("da84"),n=i("06cf").f,s=i("9112"),a=i("6eeb"),o=i("ce4e"),h=i("e893"),l=i("94ca");t.exports=function(t,e){var i,c,u,p,f,d,y=t.target,m=t.global,P=t.stat;if(c=m?r:P?r[y]||o(y,{}):(r[y]||{}).prototype,c)for(u in e){if(f=e[u],t.noTargetGet?(d=n(c,u),p=d&&d.value):p=c[u],i=l(m?u:y+(P?".":"#")+u,t.forced),!i&&void 0!==p){if(typeof f===typeof p)continue;h(f,p)}(t.sham||p&&p.sham)&&s(f,"sham",!0),a(c,u,f,t)}}},"241c":function(t,e,i){var r=i("ca84"),n=i("7839"),s=n.concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,s)}},"25f0":function(t,e,i){"use strict";var r=i("6eeb"),n=i("825a"),s=i("d039"),a=i("ad6d"),o="toString",h=RegExp.prototype,l=h[o],c=s((function(){return"/a/b"!=l.call({source:"a",flags:"b"})})),u=l.name!=o;(c||u)&&r(RegExp.prototype,o,(function(){var t=n(this),e=String(t.source),i=t.flags,r=String(void 0===i&&t instanceof RegExp&&!("flags"in h)?a.call(t):i);return"/"+e+"/"+r}),{unsafe:!0})},"2d00":function(t,e,i){var r,n,s=i("da84"),a=i("342f"),o=s.process,h=o&&o.versions,l=h&&h.v8;l?(r=l.split("."),n=r[0]+r[1]):a&&(r=a.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=a.match(/Chrome\/(\d+)/),r&&(n=r[1]))),t.exports=n&&+n},"342f":function(t,e,i){var r=i("d066");t.exports=r("navigator","userAgent")||""},"37e8":function(t,e,i){var r=i("83ab"),n=i("9bf2"),s=i("825a"),a=i("df75");t.exports=r?Object.defineProperties:function(t,e){s(t);var i,r=a(e),o=r.length,h=0;while(o>h)n.f(t,i=r[h++],e[i]);return t}},"428f":function(t,e,i){var r=i("da84");t.exports=r},"44ad":function(t,e,i){var r=i("d039"),n=i("c6b6"),s="".split;t.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==n(t)?s.call(t,""):Object(t)}:Object},"44d2":function(t,e,i){var r=i("b622"),n=i("7c73"),s=i("9bf2"),a=r("unscopables"),o=Array.prototype;void 0==o[a]&&s.f(o,a,{configurable:!0,value:n(null)}),t.exports=function(t){o[a][t]=!0}},4930:function(t,e,i){var r=i("605d"),n=i("2d00"),s=i("d039");t.exports=!!Object.getOwnPropertySymbols&&!s((function(){return!Symbol.sham&&(r?38===n:n>37&&n<41)}))},"4d64":function(t,e,i){var r=i("fc6a"),n=i("50c4"),s=i("23cb"),a=function(t){return function(e,i,a){var o,h=r(e),l=n(h.length),c=s(a,l);if(t&&i!=i){while(l>c)if(o=h[c++],o!=o)return!0}else for(;l>c;c++)if((t||c in h)&&h[c]===i)return t||c||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},"50c4":function(t,e,i){var r=i("a691"),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},5135:function(t,e,i){var r=i("7b0b"),n={}.hasOwnProperty;t.exports=function(t,e){return n.call(r(t),e)}},5692:function(t,e,i){var r=i("c430"),n=i("c6cd");(t.exports=function(t,e){return n[t]||(n[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.11.2",mode:r?"pure":"global",copyright:"Â© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,e,i){var r=i("d066"),n=i("241c"),s=i("7418"),a=i("825a");t.exports=r("Reflect","ownKeys")||function(t){var e=n.f(a(t)),i=s.f;return i?e.concat(i(t)):e}},"5c6c":function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"605d":function(t,e,i){var r=i("c6b6"),n=i("da84");t.exports="process"==r(n.process)},"65f0":function(t,e,i){var r=i("861d"),n=i("e8b5"),s=i("b622"),a=s("species");t.exports=function(t,e){var i;return n(t)&&(i=t.constructor,"function"!=typeof i||i!==Array&&!n(i.prototype)?r(i)&&(i=i[a],null===i&&(i=void 0)):i=void 0),new(void 0===i?Array:i)(0===e?0:e)}},"69f3":function(t,e,i){var r,n,s,a=i("7f9a"),o=i("da84"),h=i("861d"),l=i("9112"),c=i("5135"),u=i("c6cd"),p=i("f772"),f=i("d012"),d="Object already initialized",y=o.WeakMap,m=function(t){return s(t)?n(t):r(t,{})},P=function(t){return function(e){var i;if(!h(e)||(i=n(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return i}};if(a){var v=u.state||(u.state=new y),g=v.get,b=v.has,w=v.set;r=function(t,e){if(b.call(v,t))throw new TypeError(d);return e.facade=t,w.call(v,t,e),e},n=function(t){return g.call(v,t)||{}},s=function(t){return b.call(v,t)}}else{var x=p("state");f[x]=!0,r=function(t,e){if(c(t,x))throw new TypeError(d);return e.facade=t,l(t,x,e),e},n=function(t){return c(t,x)?t[x]:{}},s=function(t){return c(t,x)}}t.exports={set:r,get:n,has:s,enforce:m,getterFor:P}},"6eeb":function(t,e,i){var r=i("da84"),n=i("9112"),s=i("5135"),a=i("ce4e"),o=i("8925"),h=i("69f3"),l=h.get,c=h.enforce,u=String(String).split("String");(t.exports=function(t,e,i,o){var h,l=!!o&&!!o.unsafe,p=!!o&&!!o.enumerable,f=!!o&&!!o.noTargetGet;"function"==typeof i&&("string"!=typeof e||s(i,"name")||n(i,"name",e),h=c(i),h.source||(h.source=u.join("string"==typeof e?e:""))),t!==r?(l?!f&&t[e]&&(p=!0):delete t[e],p?t[e]=i:n(t,e,i)):p?t[e]=i:a(e,i)})(Function.prototype,"toString",(function(){return"function"==typeof this&&l(this).source||o(this)}))},7418:function(t,e){e.f=Object.getOwnPropertySymbols},7839:function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,e,i){var r=i("1d80");t.exports=function(t){return Object(r(t))}},"7c73":function(t,e,i){var r,n=i("825a"),s=i("37e8"),a=i("7839"),o=i("d012"),h=i("1be4"),l=i("cc12"),c=i("f772"),u=">",p="<",f="prototype",d="script",y=c("IE_PROTO"),m=function(){},P=function(t){return p+d+u+t+p+"/"+d+u},v=function(t){t.write(P("")),t.close();var e=t.parentWindow.Object;return t=null,e},g=function(){var t,e=l("iframe"),i="java"+d+":";return e.style.display="none",h.appendChild(e),e.src=String(i),t=e.contentWindow.document,t.open(),t.write(P("document.F=Object")),t.close(),t.F},b=function(){try{r=document.domain&&new ActiveXObject("htmlfile")}catch(e){}b=r?v(r):g();var t=a.length;while(t--)delete b[f][a[t]];return b()};o[y]=!0,t.exports=Object.create||function(t,e){var i;return null!==t?(m[f]=n(t),i=new m,m[f]=null,i[y]=t):i=b(),void 0===e?i:s(i,e)}},"7f9a":function(t,e,i){var r=i("da84"),n=i("8925"),s=r.WeakMap;t.exports="function"===typeof s&&/native code/.test(n(s))},"81d5":function(t,e,i){"use strict";var r=i("7b0b"),n=i("23cb"),s=i("50c4");t.exports=function(t){var e=r(this),i=s(e.length),a=arguments.length,o=n(a>1?arguments[1]:void 0,i),h=a>2?arguments[2]:void 0,l=void 0===h?i:n(h,i);while(l>o)e[o++]=t;return e}},"825a":function(t,e,i){var r=i("861d");t.exports=function(t){if(!r(t))throw TypeError(String(t)+" is not an object");return t}},"83ab":function(t,e,i){var r=i("d039");t.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,e,i){"use strict";var r=i("c04e"),n=i("9bf2"),s=i("5c6c");t.exports=function(t,e,i){var a=r(e);a in t?n.f(t,a,s(0,i)):t[a]=i}},"861d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8875:function(t,e,i){var r,n,s;(function(i,a){n=[],r=a,s="function"===typeof r?r.apply(e,n):r,void 0===s||(t.exports=s)})("undefined"!==typeof self&&self,(function(){function t(){var e=Object.getOwnPropertyDescriptor(document,"currentScript");if(!e&&"currentScript"in document&&document.currentScript)return document.currentScript;if(e&&e.get!==t&&document.currentScript)return document.currentScript;try{throw new Error}catch(f){var i,r,n,s=/.*at [^(]*\((.*):(.+):(.+)\)$/gi,a=/@([^@]*):(\d+):(\d+)\s*$/gi,o=s.exec(f.stack)||a.exec(f.stack),h=o&&o[1]||!1,l=o&&o[2]||!1,c=document.location.href.replace(document.location.hash,""),u=document.getElementsByTagName("script");h===c&&(i=document.documentElement.outerHTML,r=new RegExp("(?:[^\\n]+?\\n){0,"+(l-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),n=i.replace(r,"$1").trim());for(var p=0;p<u.length;p++){if("interactive"===u[p].readyState)return u[p];if(u[p].src===h)return u[p];if(h===c&&u[p].innerHTML&&u[p].innerHTML.trim()===n)return u[p]}return null}}return t}))},8925:function(t,e,i){var r=i("c6cd"),n=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(t){return n.call(t)}),t.exports=r.inspectSource},"8bbf":function(e,i){e.exports=t},"90e3":function(t,e){var i=0,r=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++i+r).toString(36)}},9112:function(t,e,i){var r=i("83ab"),n=i("9bf2"),s=i("5c6c");t.exports=r?function(t,e,i){return n.f(t,e,s(1,i))}:function(t,e,i){return t[e]=i,t}},"94ca":function(t,e,i){var r=i("d039"),n=/#|\.prototype\./,s=function(t,e){var i=o[a(t)];return i==l||i!=h&&("function"==typeof e?r(e):!!e)},a=s.normalize=function(t){return String(t).replace(n,".").toLowerCase()},o=s.data={},h=s.NATIVE="N",l=s.POLYFILL="P";t.exports=s},"9bf2":function(t,e,i){var r=i("83ab"),n=i("0cfb"),s=i("825a"),a=i("c04e"),o=Object.defineProperty;e.f=r?o:function(t,e,i){if(s(t),e=a(e,!0),s(i),n)try{return o(t,e,i)}catch(r){}if("get"in i||"set"in i)throw TypeError("Accessors not supported");return"value"in i&&(t[e]=i.value),t}},a434:function(t,e,i){"use strict";var r=i("23e7"),n=i("23cb"),s=i("a691"),a=i("50c4"),o=i("7b0b"),h=i("65f0"),l=i("8418"),c=i("1dde"),u=c("splice"),p=Math.max,f=Math.min,d=9007199254740991,y="Maximum allowed length exceeded";r({target:"Array",proto:!0,forced:!u},{splice:function(t,e){var i,r,c,u,m,P,v=o(this),g=a(v.length),b=n(t,g),w=arguments.length;if(0===w?i=r=0:1===w?(i=0,r=g-b):(i=w-2,r=f(p(s(e),0),g-b)),g+i-r>d)throw TypeError(y);for(c=h(v,r),u=0;u<r;u++)m=b+u,m in v&&l(c,u,v[m]);if(c.length=r,i<r){for(u=b;u<g-r;u++)m=u+r,P=u+i,m in v?v[P]=v[m]:delete v[P];for(u=g;u>g-r+i;u--)delete v[u-1]}else if(i>r)for(u=g-r;u>b;u--)m=u+r-1,P=u+i-1,m in v?v[P]=v[m]:delete v[P];for(u=0;u<i;u++)v[u+b]=arguments[u+2];return v.length=g-r+i,c}})},a691:function(t,e){var i=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:i)(t)}},ad6d:function(t,e,i){"use strict";var r=i("825a");t.exports=function(){var t=r(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},b041:function(t,e,i){"use strict";var r=i("00ee"),n=i("f5df");t.exports=r?{}.toString:function(){return"[object "+n(this)+"]"}},b0c0:function(t,e,i){var r=i("83ab"),n=i("9bf2").f,s=Function.prototype,a=s.toString,o=/^\s*function ([^ (]*)/,h="name";r&&!(h in s)&&n(s,h,{configurable:!0,get:function(){try{return a.call(this).match(o)[1]}catch(t){return""}}})},b622:function(t,e,i){var r=i("da84"),n=i("5692"),s=i("5135"),a=i("90e3"),o=i("4930"),h=i("fdbf"),l=n("wks"),c=r.Symbol,u=h?c:c&&c.withoutSetter||a;t.exports=function(t){return s(l,t)&&(o||"string"==typeof l[t])||(o&&s(c,t)?l[t]=c[t]:l[t]=u("Symbol."+t)),l[t]}},c04e:function(t,e,i){var r=i("861d");t.exports=function(t,e){if(!r(t))return t;var i,n;if(e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;if("function"==typeof(i=t.valueOf)&&!r(n=i.call(t)))return n;if(!e&&"function"==typeof(i=t.toString)&&!r(n=i.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},c430:function(t,e){t.exports=!1},c6b6:function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},c6cd:function(t,e,i){var r=i("da84"),n=i("ce4e"),s="__core-js_shared__",a=r[s]||n(s,{});t.exports=a},c8ba:function(t,e){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(r){"object"===typeof window&&(i=window)}t.exports=i},ca84:function(t,e,i){var r=i("5135"),n=i("fc6a"),s=i("4d64").indexOf,a=i("d012");t.exports=function(t,e){var i,o=n(t),h=0,l=[];for(i in o)!r(a,i)&&r(o,i)&&l.push(i);while(e.length>h)r(o,i=e[h++])&&(~s(l,i)||l.push(i));return l}},cb29:function(t,e,i){var r=i("23e7"),n=i("81d5"),s=i("44d2");r({target:"Array",proto:!0},{fill:n}),s("fill")},cc12:function(t,e,i){var r=i("da84"),n=i("861d"),s=r.document,a=n(s)&&n(s.createElement);t.exports=function(t){return a?s.createElement(t):{}}},ce4e:function(t,e,i){var r=i("da84"),n=i("9112");t.exports=function(t,e){try{n(r,t,e)}catch(i){r[t]=e}return e}},d012:function(t,e){t.exports={}},d039:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},d066:function(t,e,i){var r=i("428f"),n=i("da84"),s=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,e){return arguments.length<2?s(r[t])||s(n[t]):r[t]&&r[t][e]||n[t]&&n[t][e]}},d1e7:function(t,e,i){"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,s=n&&!r.call({1:2},1);e.f=s?function(t){var e=n(this,t);return!!e&&e.enumerable}:r},d3b7:function(t,e,i){var r=i("00ee"),n=i("6eeb"),s=i("b041");r||n(Object.prototype,"toString",s,{unsafe:!0})},da84:function(t,e,i){(function(e){var i=function(t){return t&&t.Math==Math&&t};t.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,i("c8ba"))},df75:function(t,e,i){var r=i("ca84"),n=i("7839");t.exports=Object.keys||function(t){return r(t,n)}},e893:function(t,e,i){var r=i("5135"),n=i("56ef"),s=i("06cf"),a=i("9bf2");t.exports=function(t,e){for(var i=n(e),o=a.f,h=s.f,l=0;l<i.length;l++){var c=i[l];r(t,c)||o(t,c,h(e,c))}}},e8b5:function(t,e,i){var r=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==r(t)}},f5df:function(t,e,i){var r=i("00ee"),n=i("c6b6"),s=i("b622"),a=s("toStringTag"),o="Arguments"==n(function(){return arguments}()),h=function(t,e){try{return t[e]}catch(i){}};t.exports=r?n:function(t){var e,i,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=h(e=Object(t),a))?i:o?n(e):"Object"==(r=n(e))&&"function"==typeof e.callee?"Arguments":r}},f772:function(t,e,i){var r=i("5692"),n=i("90e3"),s=r("keys");t.exports=function(t){return s[t]||(s[t]=n(t))}},fb15:function(t,e,i){"use strict";if(i.r(e),"undefined"!==typeof window){var r=window.document.currentScript,n=i("8875");r=n(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:n});var s=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);s&&(i.p=s[1])}var a=i("8bbf"),o={key:0,class:"h-100 d-flex align-items-center justify-content-center"},h=Object(a["createVNode"])("div",{class:"spinner-border",role:"status"},[Object(a["createVNode"])("span",{class:"visually-hidden"},"Loading...")],-1);function l(t,e,i,r,n,s){var l=Object(a["resolveComponent"])("Preview");return Object(a["openBlock"])(),Object(a["createBlock"])(a["Fragment"],null,[this.loading?(Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[h])):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])(l,{selectedField:n.selectedField,selectedMode:n.selectedMode,"onUpdate:selectedMode":e[1]||(e[1]=function(t){return n.selectedMode=t}),selectedPlayer:n.selectedPlayer,"onUpdate:selectedPlayer":e[2]||(e[2]=function(t){return n.selectedPlayer=t}),players:n.players,"onUpdate:players":e[3]||(e[3]=function(t){return n.players=t}),onCreatePlayer:s.createPlayer,onDeletePlayer:s.deletePlayer,onEditPlayerPath:s.editPlayerPath,onResetPlayerPath:s.resetPlayerPath,onSetPositions:s.setPositions,onResetPositions:s.resetPositions,onUpdateDimensions:s.updateDimensions,forcePlayerUpdate:n.forcePlayerUpdate,"onUpdate:forcePlayerUpdate":e[4]||(e[4]=function(t){return n.forcePlayerUpdate=t}),loading:i.loading},null,8,["selectedField","selectedMode","selectedPlayer","players","onCreatePlayer","onDeletePlayer","onEditPlayerPath","onResetPlayerPath","onSetPositions","onResetPositions","onUpdateDimensions","forcePlayerUpdate","loading"])],64)}i("b0c0"),i("d3b7"),i("25f0");var c={class:"col-12"},u={ref:"canvasElement"};function p(t,e,i,r,n,s){return Object(a["withDirectives"])((Object(a["openBlock"])(),Object(a["createBlock"])("div",c,[Object(a["createVNode"])("canvas",u,null,512)],512)),[[a["vShow"],!this.loading]])}i("a434"),i("cb29");var f={props:["selectedField","selectedMode","selectedPlayer","players","forcePlayerUpdate","loading"],emits:["update:selectedMode","update:selectedPlayer","update:players","createPlayer","deletePlayer","editPlayerPath","resetPlayerPath","setPositions","resetPositions","update:forcePlayerUpdate","updateDimensions"],mounted:function(){window.addEventListener("resize",this.resize,!1)},beforeUnmount:function(){window.removeEventListener("resize",this.resize,!1)},data:function(){return{width:0,isDragging:!1,mostRecentSelectedPlayerId:0,prevTime:0,currentFrame:null,frameDuration:1/60,resetCurrTime:!1}},computed:{height:function(){return"Soccer"===this.selectedField?"v"===this.orientation?105*this.width/67.5:67.5*this.width/105:"Basketball"===this.selectedField?"v"===this.orientation?28.7*this.width/15.2:15.2*this.width/28.7:"American Football"===this.selectedField?"v"===this.orientation?109.728*this.width/48.8:48.8*this.width/109.728:0},orientation:function(){return"h"},widthConversion:function(){return"Soccer"===this.selectedField?"h"===this.orientation?this.width/105:this.height/105:"Basketball"===this.selectedField?"h"===this.orientation?this.width/28.7:this.height/28.7:"American Football"===this.selectedField?"h"===this.orientation?this.width/109.728:this.height/109.728:1},heightConversion:function(){return"Soccer"===this.selectedField?"h"===this.orientation?this.height/67.5:this.width/67.5:"Basketball"===this.selectedField?"h"===this.orientation?this.height/15.2:this.width/15.2:"American Football"===this.selectedField?"h"===this.orientation?this.height/48.8:this.width/48.8:1},ballRadius:function(){return this.playerRadius/2},playerRadius:function(){return"Soccer"===this.selectedField?1.5*this.widthConversion:"Basketball"===this.selectedField?.5*this.widthConversion:"American Football"===this.selectedField?1.25*this.widthConversion:1},playerFontSize:function(){return"Soccer"===this.selectedField?1.5*this.widthConversion:"Basketball"===this.selectedField?.5*this.widthConversion:"American Football"===this.selectedField?1.25*this.widthConversion:1}},watch:{selectedField:function(){window.cancelAnimationFrame(this.currentFrame),this.prevTime=0,this.$emit("resetPositions"),this.$emit("update:selectedMode",""),this.$nextTick((function(){this.setupCanvas()}))},selectedMode:function(t){"Play"===t?this.animateCanvas():(window.cancelAnimationFrame(this.currentFrame),this.prevTime=0,this.$emit("resetPositions"),this.$nextTick((function(){this.setupCanvas()})))},forcePlayerUpdate:function(t){t&&(this.setupCanvas(),this.$emit("update:forcePlayerUpdate",!1))},loading:function(t){t||this.$nextTick((function(){this.$refs.canvasElement.parentNode.style.width="100%",this.setupCanvas(),this.$emit("updateDimensions",{width:this.width,height:this.height,orientation:this.orientation})}))}},methods:{distance:function(t,e,i,r){return Math.sqrt(Math.pow(i-t,2)+Math.pow(r-e,2))},getSelectedPlayer:function(t){for(var e=this.players.length-1;e>=0;e--){var i,r;if(i="v"===this.orientation?this.distance(this.players[e].path[0].x*this.width,-1*(this.players[e].path[0].y-1)*this.height,t.x*this.width,-1*(t.y-1)*this.height):this.distance(this.players[e].path[0].x*this.width,this.players[e].path[0].y*this.height,t.x*this.width,t.y*this.height),r="Ball"===this.players[e].team?this.ballRadius:this.playerRadius,i<=r){var n=this.players,s=this.players[e];return n.splice(e,1),n.push(s),this.$emit("update:selectedPlayer",e),this.$emit("update:players",n),this.$emit("update:forcePlayerUpdate",!0),"Path"===this.selectedMode&&(this.mostRecentSelectedPlayerId=0),this.$nextTick((function(){this.$emit("update:selectedPlayer",this.players.length-1)})),s}}"Path"===this.selectedMode?this.mostRecentSelectedPlayerId=this.players[this.players.length-1].id:(this.mostRecentSelectedPlayerId=0,this.$emit("update:selectedPlayer",-1))},resize:function(){Math.floor(this.$refs.canvasElement.parentNode.getBoundingClientRect().width)!==this.width&&(this.$emit("updateDimensions",{width:this.width,height:this.height,orientation:this.orientation}),"Play"===this.selectedMode&&this.$emit("update:selectedMode",""),this.$emit("update:forcePlayerUpdate",!0))},setupCanvas:function(){if(this.width=Math.floor(this.$refs.canvasElement.parentNode.getBoundingClientRect().width),this.$refs.canvasElement.parentNode.style.height=this.height+"px","Soccer"===this.selectedField?this.drawSoccerField():"Basketball"===this.selectedField?this.drawBasketballCourt():"American Football"===this.selectedField&&this.drawAmericanFootballField(),-1===this.selectedPlayer||"Path"!==this.selectedMode&&"Insert"!==this.selectedMode&&""!==this.selectedMode){if("Reset"===this.selectedMode)for(var t=0;t<this.players.length;t++)this.drawPlayerPaths(this.players[t])}else this.drawPlayerPaths(this.players[this.players.length-1]);this.drawPlayers()},animateCanvas:function(t){t||(t=1e3*this.frameDuration);var e=t-this.prevTime;if(e>=1e3*this.frameDuration){this.resetCurrTime&&(e=1e3*this.frameDuration,this.resetCurrTime=!1);for(var i=0;i<this.players.length;i++){var r=this.movePlayer(this.players[i],e);this.$emit("setPositions",i,r)}0===this.prevTime&&(this.resetCurrTime=!0),this.$nextTick((function(){this.setupCanvas(),this.prevTime=t}))}this.currentFrame=window.requestAnimationFrame(this.animateCanvas)},movePlayer:function(t,e){return"Play"!==this.selectedMode?{step:0,position:t.path[0],wait:0}:t.current.step<t.path.length-1?("v"===this.orientation?(i=this.distance(t.path[t.current.step].y*this.width,-1*(t.path[t.current.step].x-1)*this.height,t.path[t.current.step+1].y*this.width,-1*(t.path[t.current.step+1].x-1)*this.height),r=-1*(t.path[t.current.step+1].x-1)*this.height- -1*(t.path[t.current.step].x-1)*this.height,n=t.path[t.current.step+1].y*this.width-t.path[t.current.step].y*this.width,s=Math.atan2(-r,n)):(i=this.distance(t.path[t.current.step].x*this.width,t.path[t.current.step].y*this.height,t.path[t.current.step+1].x*this.width,t.path[t.current.step+1].y*this.height),r=t.path[t.current.step+1].x*this.width-t.path[t.current.step].x*this.width,n=t.path[t.current.step+1].y*this.height-t.path[t.current.step].y*this.height,s=Math.atan2(n,r)),t.speed[t.current.step]&&0!==t.speed[t.current.step].val?(a=1/t.speed[t.current.step].val*(1/this.widthConversion)*i,o=i*(e/1e3/a)):o=0,h="v"===this.orientation?this.distance(t.path[t.current.step].y*this.width,-1*(t.path[t.current.step].x-1)*this.height,t.current.position.y*this.width,-1*(t.current.position.x-1)*this.height):this.distance(t.path[t.current.step].x*this.width,t.path[t.current.step].y*this.height,t.current.position.x*this.width,t.current.position.y*this.height),h>=i||0===t.speed[t.current.step].val&&t.current.wait>=t.speed[t.current.step].wait?t.current.step<t.path.length-1?{step:t.current.step+1,position:t.path[t.current.step+1],wait:0}:{step:0,position:t.path[0],wait:0}:"v"===this.orientation?(l=o*Math.sin(s),c=o*Math.cos(s),u=t.current.position.x*this.height+l,p=t.current.position.y*this.width+c,f=u/this.height,d=p/this.width,{step:t.current.step,position:{x:f,y:d},wait:t.current.wait+e}):(l=o*Math.cos(s),c=o*Math.sin(s),u=t.current.position.x*this.width+l,p=t.current.position.y*this.height+c,f=u/this.width,d=p/this.height,{step:t.current.step,position:{x:f,y:d},wait:t.current.wait+e})):{step:0,position:t.path[0],wait:0};var i,r,n,s,a,o,h,l,c,u,p,f,d},drawPlayers:function(){for(var t=0;t<this.players.length;t++){var e=this.$refs.canvasElement;if(e.getContext){var i,r=e.getContext("2d");r.beginPath(),r.fillStyle=this.players[t].color,i="Ball"===this.players[t].team?this.ballRadius:this.playerRadius,"v"===this.orientation?r.arc(this.players[t].current.position.x*this.height,this.players[t].current.position.y*this.width,i,0,2*Math.PI):r.arc(this.players[t].current.position.x*this.width,this.players[t].current.position.y*this.height,i,0,2*Math.PI),r.fill(),r.closePath();var n=this.contrastingColor(this.players[t].color),s=this.playerFontSize.toString(10)+"px sans-serif";r.font=s,r.fillStyle=n,this.players[t].number.toString(10).length>1?"v"===this.orientation?(r.translate(this.players[t].current.position.x*this.height,this.players[t].current.position.y*this.width),r.rotate(.5*Math.PI),r.fillText(this.players[t].number,0-.575*this.playerFontSize,0+.375*this.playerFontSize),r.rotate(-1*Math.PI*.5),r.translate(-1*this.players[t].current.position.x*this.height,-1*this.players[t].current.position.y*this.width)):r.fillText(this.players[t].number,this.players[t].current.position.x*this.width-.575*this.playerFontSize,this.players[t].current.position.y*this.height+.375*this.playerFontSize):"v"===this.orientation?(r.translate(this.players[t].current.position.x*this.height,this.players[t].current.position.y*this.width),r.rotate(.5*Math.PI),r.fillText(this.players[t].number,0-.3*this.playerFontSize,0+.375*this.playerFontSize),r.rotate(-1*Math.PI*.5),r.translate(-1*this.players[t].current.position.x*this.height,-1*this.players[t].current.position.y*this.width)):r.fillText(this.players[t].number,this.players[t].current.position.x*this.width-.3*this.playerFontSize,this.players[t].current.position.y*this.height+.375*this.playerFontSize)}}},drawPlayerPaths:function(t){var e=this.$refs.canvasElement;if(e.getContext){var i=e.getContext("2d"),r="rgb(0, 0, 0)",n=1,s="round";i.fillStyle=r,i.strokeStyle=r,i.lineWidth=n,i.lineCap=s;for(var a=1;a<t.path.length;a++){var o,h;i.beginPath(),i.setLineDash([5,10]),"v"===this.orientation?(i.moveTo(t.path[a-1].x*this.height,t.path[a-1].y*this.width),i.lineTo(t.path[a].x*this.height,t.path[a].y*this.width)):(i.moveTo(t.path[a-1].x*this.width,t.path[a-1].y*this.height),i.lineTo(t.path[a].x*this.width,t.path[a].y*this.height)),i.stroke(),i.closePath(),i.setLineDash([]),"v"===this.orientation?(o=Math.atan2((t.path[a].y-t.path[a-1].y)*this.width,(t.path[a].x-t.path[a-1].x)*this.height),i.translate(t.path[a].x*this.height,t.path[a].y*this.width),h=this.distance(t.path[a].y*this.width,-1*(t.path[a].x-1)*this.height,t.path[a-1].y*this.width,-1*(t.path[a-1].x-1)*this.height)):(o=Math.atan2((t.path[a].y-t.path[a-1].y)*this.height,(t.path[a].x-t.path[a-1].x)*this.width),i.translate(t.path[a].x*this.width,t.path[a].y*this.height),h=this.distance(t.path[a].x*this.width,t.path[a].y*this.height,t.path[a-1].x*this.width,t.path[a-1].y*this.height));var l=2;h<=2*l?(i.beginPath(),i.arc(0,0,l,0,2*Math.PI),i.fill(),i.closePath()):(i.rotate(o+10),i.beginPath(),i.moveTo(0,0),i.lineTo(5,0),i.stroke(),i.closePath(),i.rotate(-20),i.beginPath(),i.moveTo(0,0),i.lineTo(5,0),i.stroke(),i.closePath(),i.rotate(-1*(o-10))),"v"===this.orientation?i.translate(-1*t.path[a].x*this.height,-1*t.path[a].y*this.width):i.translate(-1*t.path[a].x*this.width,-1*t.path[a].y*this.height)}}},contrastingColor:function(t){var e=t.substring(1,3),i=t.substring(3,5),r=t.substring(5,7),n=parseInt(e,16),s=parseInt(i,16),a=parseInt(r,16);return n+s+a>382?"#000000":"#ffffff"},drawSoccerField:function(){var t,e;if("v"===this.orientation?(t=this.height,e=this.width,this.$refs.canvasElement.width=e,this.$refs.canvasElement.height=t):(t=this.width,e=this.height,this.$refs.canvasElement.width=t,this.$refs.canvasElement.height=e),this.$refs.canvasElement.getContext){var i=this.$refs.canvasElement.getContext("2d");"v"===this.orientation&&(i.translate(0,t),i.rotate(-1*Math.PI*.5));var r=2*this.widthConversion,n="rgb(75, 140, 20)",s=1,a="rgb(255, 255, 255)",o="square",h=1*this.widthConversion,l=9.15*this.widthConversion,c=11*this.widthConversion,u=16.5*this.widthConversion,p=20.16*this.heightConversion,f=5.5*this.widthConversion,d=9.16*this.heightConversion,y=.75*r,m=3.66*this.heightConversion;i.save(),i.fillStyle=n,i.fillRect(0,0,t,e),i.restore(),i.strokeStyle=a,i.lineWidth=s,i.lineCap=o,i.fillStyle=a,i.save(),i.strokeRect(r,r,t-2*r,e-2*r),i.beginPath(),i.moveTo(t/2,r),i.lineTo(t/2,e-r),i.stroke(),i.closePath(),i.beginPath(),i.arc(t/2,e/2,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.arc(t/2,e/2,l,0,2*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(r,r,h,0,.5*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(t-r,r,h,.5*Math.PI,Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(t-r,e-r,h,Math.PI,1.5*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(r,e-r,h,1.5*Math.PI,2*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(r+c,e/2,l,0,2*Math.PI),i.stroke(),i.closePath(),i.fillStyle=n,i.fillRect(r,e/2-p,u,2*p),i.strokeRect(r,e/2-p,u,2*p),i.strokeRect(r,e/2-d,f,2*d),i.beginPath(),i.arc(t-r-c,e/2,l,0,2*Math.PI),i.stroke(),i.closePath(),i.fillStyle=n,i.fillRect(t-r-u,e/2-p,u,2*p),i.strokeRect(t-r-u,e/2-p,u,2*p),i.strokeRect(t-r-f,e/2-d,f,2*d),i.fillStyle=a,i.lineWidth=1,i.beginPath(),i.moveTo(r+c,e/2),i.arc(r+c,e/2,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.strokeRect(r-y,e/2-m,y,2*m),i.beginPath(),i.moveTo(t-r-c,e/2),i.arc(t-r-c,e/2,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.strokeRect(t-r,e/2-m,y,2*m)}},drawBasketballCourt:function(){var t,e;if("v"===this.orientation?(t=this.height,e=this.width,this.$refs.canvasElement.width=e,this.$refs.canvasElement.height=t):(t=this.width,e=this.height,this.$refs.canvasElement.width=t,this.$refs.canvasElement.height=e),this.$refs.canvasElement.getContext){var i=this.$refs.canvasElement.getContext("2d");"v"===this.orientation&&(i.translate(0,t),i.rotate(-1*Math.PI*.5));var r=.1*this.widthConversion,n="rgb(240, 200, 75)",s="rgb(240, 65, 20)",a="rgb(20, 85, 240)",o=1,h="rgb(255, 255, 255)",l="square",c=1.8*this.widthConversion,u=.61*this.widthConversion,p=7.24*this.widthConversion,f=4.4*this.widthConversion,d=.9*this.widthConversion,y=2.45*this.widthConversion,m=.91*this.widthConversion,P=5.8*this.widthConversion,v=1.8*this.widthConversion,g=1.6*this.widthConversion,b=1.22*this.widthConversion,w=.2286*this.widthConversion,x=1.22*this.widthConversion,T=1.83*this.widthConversion,F=3,S=.3*this.widthConversion,M=8.53*this.widthConversion,k=2.13*this.widthConversion,C=2.43*this.widthConversion,E=3.34*this.widthConversion,I=4.25*this.widthConversion;i.save(),i.fillStyle=n,i.fillRect(0,0,t,e),i.restore(),i.strokeStyle=h,i.lineWidth=o,i.lineCap=l,i.fillStyle=h,i.save(),i.beginPath(),i.moveTo(t/2,r),i.lineTo(t/2,e-r),i.stroke(),i.closePath(),i.beginPath(),i.arc(t/2,e/2,c,0,2*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(t/2,e/2,u,0,2*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(g,e/2,p,-1*Math.PI*.5,.5*Math.PI),i.stroke(),i.closePath(),i.fillStyle=n,i.fillRect(r+1,r+1,f,e-2*r-2),i.beginPath(),i.moveTo(r+1,r-1+d),i.lineTo(r+1+f,r-1+d),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+1,e-r+1-d),i.lineTo(r+1+f,e-r+1-d),i.stroke(),i.closePath(),i.beginPath(),i.arc(t-g,e/2,p,.5*Math.PI,1.5*Math.PI),i.stroke(),i.closePath(),i.fillStyle=n,i.fillRect(t-r-1-f,r+1,f,e-2*r-2),i.beginPath(),i.moveTo(t-r-1-f,r-1+d),i.lineTo(t-r-1,r-1+d),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-r-1-f,e-r+1-d),i.lineTo(t-r-1,e-r+1-d),i.stroke(),i.closePath(),i.fillStyle=s,i.fillRect(r+1,e/2-y,P,2*y),i.strokeRect(r,e/2-y,P+1,2*y),i.fillStyle=a,i.fillRect(r+1,e/2-v,P,2*v),i.strokeRect(r,e/2-v,P+1,2*v),i.beginPath(),i.arc(r+1+P,e/2,v,-1*Math.PI*.5,.5*Math.PI),i.fill(),i.stroke(),i.closePath(),i.setLineDash([5,25]),i.beginPath(),i.arc(r+1+P,e/2,v,.5*Math.PI,-1*Math.PI*.5),i.stroke(),i.closePath(),i.setLineDash([]),i.beginPath(),i.moveTo(r,e/2-y-m),i.lineTo(r+S,e/2-y-m),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r,e/2+y+m),i.lineTo(r+S,e/2+y+m),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+M,r),i.lineTo(r+M,r+2*S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+M,e-r),i.lineTo(r+M,e-r-2*S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+k,e/2-y),i.lineTo(r+k,e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+C,e/2-y),i.lineTo(r+C,e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+E,e/2-y),i.lineTo(r+E,e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+I,e/2-y),i.lineTo(r+I,e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+k,e/2+y),i.lineTo(r+k,e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+C,e/2+y),i.lineTo(r+C,e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+E,e/2+y),i.lineTo(r+E,e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(r+I,e/2+y),i.lineTo(r+I,e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.arc(r+1+g,e/2,b,-1*Math.PI*.5,.5*Math.PI),i.stroke(),i.closePath(),i.beginPath(),i.arc(r+1+g,e/2,w,0,2*Math.PI),i.stroke(),i.closePath(),i.fillStyle=h,i.fillRect(r+1+x,e/2-T/2,F,T),i.fillStyle=s,i.fillRect(t-r-1-P,e/2-y,P,2*y),i.strokeRect(t-r-1-P,e/2-y,P+1,2*y),i.fillStyle=a,i.fillRect(t-r-1-P,e/2-v,P,2*v),i.strokeRect(t-r-1-P,e/2-v,P+1,2*v),i.beginPath(),i.arc(t-r-1-P,e/2,v,.5*Math.PI,-1*Math.PI*.5),i.fill(),i.stroke(),i.closePath(),i.setLineDash([5,25]),i.beginPath(),i.arc(t-r-1-P,e/2,v,-1*Math.PI*.5,.5*Math.PI),i.stroke(),i.closePath(),i.setLineDash([]),i.beginPath(),i.moveTo(t-r-1,e/2-y-m),i.lineTo(t-r-1-S,e/2-y-m),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-r-1,e/2+y+m),i.lineTo(t-r-1-S,e/2+y+m),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+M),r),i.lineTo(t-(r+M),r+2*S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+M),e-r),i.lineTo(t-(r+M),e-r-2*S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+k),e/2-y),i.lineTo(t-(r+k),e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+C),e/2-y),i.lineTo(t-(r+C),e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+E),e/2-y),i.lineTo(t-(r+E),e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+I),e/2-y),i.lineTo(t-(r+I),e/2-y-S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+k),e/2+y),i.lineTo(t-(r+k),e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+C),e/2+y),i.lineTo(t-(r+C),e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+E),e/2+y),i.lineTo(t-(r+E),e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(t-(r+I),e/2+y),i.lineTo(t-(r+I),e/2+y+S),i.stroke(),i.closePath(),i.beginPath(),i.arc(t-r-1-g,e/2,b,.5*Math.PI,-1*Math.PI*.5),i.stroke(),i.closePath(),i.beginPath(),i.arc(t-r-1-g,e/2,w,0,2*Math.PI),i.stroke(),i.closePath(),i.fillStyle=h,i.fillRect(t-r-1-x-F,e/2-T/2,F,T),i.strokeRect(r,r,t-2*r,e-2*r)}},drawAmericanFootballField:function(){var t,e;if("v"===this.orientation?(t=this.height,e=this.width,this.$refs.canvasElement.width=e,this.$refs.canvasElement.height=t):(t=this.width,e=this.height,this.$refs.canvasElement.width=t,this.$refs.canvasElement.height=e),this.$refs.canvasElement.getContext){var i=this.$refs.canvasElement.getContext("2d");"v"===this.orientation&&(i.translate(0,t),i.rotate(-1*Math.PI*.5));var r=.25*this.widthConversion,n="rgb(90, 170, 25)",s=1,a="rgb(255, 255, 255)",o="square",h="rgb(120, 5, 0)",l="rgb(0, 40, 120)",c=.6096*this.widthConversion,u=c/2,p=21.56*this.widthConversion,f=.91*this.widthConversion,d=.25*this.widthConversion,y=0,m=5*this.widthConversion,P=3*this.widthConversion,v="bold "+P.toString(10)+"px serif",g=.5*this.widthConversion,b=2.82*this.widthConversion;i.fillStyle=n,i.fillRect(0,0,t,e),i.strokeStyle=a,i.lineWidth=s,i.lineCap=o,i.fillStyle=a;for(var w=0;w<=120;w++){var x=(t-2*r)/120*w;i.beginPath(),w>10&&w<110&&(i.moveTo(r+x,r+u),i.lineTo(r+x,r+u+c),i.moveTo(r+x,e-r-u-c),i.lineTo(r+x,e-r-u),w%5!==0?(i.moveTo(r+x,r+p),i.lineTo(r+x,r+p+c),i.moveTo(r+x,e-r-p-c),i.lineTo(r+x,e-r-p)):10!==w&&w%5===0&&(i.moveTo(r+x-c/2,r+p+c),i.lineTo(r+x+c/2,r+p+c),i.moveTo(r+x-c/2,e-r-p-c),i.lineTo(r+x+c/2,e-r-p-c)),i.stroke(),i.closePath(),w%5===0&&(i.beginPath(),i.moveTo(r+x,r),i.lineTo(r+x,e-r),i.stroke(),i.closePath()),w>=20&&w%10===0&&(i.font=v,w<70?y+=10:w>=70&&(y-=10),i.fillText((y/10).toString(10),x-P/2,e-r-m),i.fillText("0",x+g,e-r-m),i.save(),i.translate(t,e/2),i.rotate(Math.PI),i.fillText((y/10).toString(10),x-P/2,e/2-m),i.fillText("0",x+g,e/2-m),i.restore())),12!==w&&108!==w||(i.beginPath(),i.moveTo(r+x,e/2-f),i.lineTo(r+x,e/2+f),i.stroke(),i.closePath()),45!==w&&75!==w||(i.beginPath(),i.moveTo(r+x-d,e/2-d),i.lineTo(r+x+d,e/2+d),i.moveTo(r+x+d,e/2-d),i.lineTo(r+x-d,e/2+d),i.stroke(),i.closePath()),10===w&&(i.fillStyle=h,i.fillRect(r,r,x,e-2*r),i.strokeRect(r,r,x,e-2*r),i.fillStyle=a),110===w&&(i.fillStyle=l,i.fillRect(r+x,r,t-2*r-x,e-2*r),i.strokeRect(r+x,r,t-2*r-x,e-2*r),i.fillStyle=a)}i.strokeRect(r,r,t-2*r,e-2*r),i.beginPath(),i.arc(r,e/2-b,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.arc(r,e/2+b,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.arc(t-r,e/2-b,s+1,0,2*Math.PI),i.fill(),i.closePath(),i.beginPath(),i.arc(t-r,e/2+b,s+1,0,2*Math.PI),i.fill(),i.closePath()}}}};f.render=p;var d=f,y={name:"App",components:{Preview:d},emits:[],props:["loadedData","viewOnly","loading"],data:function(){return{selectedField:"Soccer",selectedMode:"",selectedPlayer:-1,players:[],PlayerFormValues:{team:"1",color:"#ffffff",number:"",name:""},TitleFormValues:{title:"",public:!1},PathFormValues:[],forcePlayerUpdate:!1,playerError:"",uniqueIndex:0,title:"",public:!1,dimensions:{},validate:!1,valid:{title:!1,players:!1,paths:!1}}},computed:{maxPlayers:function(){return"Soccer"===this.selectedField?11:"Basketball"===this.selectedField?5:"American Football"===this.selectedField?11:99},ballColor:function(){return"Soccer"===this.selectedField?"#ffffff":"Basketball"===this.selectedField?"#d96200":"American Football"===this.selectedField?"#a85d00":"#ffffff"}},watch:{loadedData:function(t){this.title=t.title,this.public=t.public,this.players=t.players,this.selectedField=t.field,this.TitleFormValues.title=t.title,this.TitleFormValues.public=t.public,this.forcePlayerUpdate=!0},selectedField:function(){this.playerError="";for(var t=0;t<this.players.length;t++)if("Ball"===this.players[t].team){this.players[t].color=this.ballColor;break}"Ball"===this.PlayerFormValues.team&&(this.PlayerFormValues.color=this.ballColor),this.getTeamMemberCount()>this.maxPlayers&&(this.playerError="TEAMMAXPLAYERS")},selectedMode:function(t){this.playerError="","Insert"===t?(this.PlayerFormValues.team="1",this.PlayerFormValues.color="#ffffff",this.PlayerFormValues.number=this.getSpareNumber("1"),this.PlayerFormValues.name="Player"):""!==t&&"Delete"!==t&&"Reset"!==t||(this.PlayerFormValues.team="1",this.PlayerFormValues.color="#ffffff",this.PlayerFormValues.number="",this.PlayerFormValues.name="",this.selectedPlayer=-1),this.forcePlayerUpdate=!0},selectedPlayer:function(t){this.playerError="",-1!==t&&this.players.length>0&&(this.PlayerFormValues.team=this.players[this.players.length-1].team,this.PlayerFormValues.color=this.players[this.players.length-1].color,this.PlayerFormValues.number=this.players[this.players.length-1].number,this.PlayerFormValues.name=this.players[this.players.length-1].name)}},methods:{validTitle:function(t){this.valid.title=t},validPlayers:function(t){this.valid.players=t},validPaths:function(t){this.valid.paths=t},getTitleFormValueUpdates:function(t){t.titleError||(this.title=t.title),t.publicError||(this.public=t.public),this.TitleFormValues.title=t.title,this.TitleFormValues.public=t.public},getPlayerFormValueUpdates:function(t){this.playerError="",t.teamChange&&"Ball"===t.team?(this.PlayerFormValues.team=t.team,this.PlayerFormValues.color=this.ballColor,this.PlayerFormValues.number="",this.PlayerFormValues.name="",-1!==this.selectedPlayer&&this.getTeamMemberCount()>1&&this.players[this.players.length-1].team!==t.team?this.playerError="TEAMMAXPLAYERS":-1!==this.selectedPlayer&&(this.getTeamMemberCount()>1?this.playerError="TEAMMAXPLAYERS":(t.teamsError||(this.players[this.players.length-1].team=this.PlayerFormValues.team),t.colorError||(this.players[this.players.length-1].color=this.PlayerFormValues.color),t.numberError||(this.players[this.players.length-1].number=this.PlayerFormValues.number),t.nameError||(this.players[this.players.length-1].name=this.PlayerFormValues.name),this.forcePlayerUpdate=!0))):!t.teamChange||"1"!==t.team&&"2"!==t.team?-1!==this.selectedPlayer?(this.PlayerFormValues.team=t.team,this.PlayerFormValues.color=t.color,this.PlayerFormValues.number=t.number,this.PlayerFormValues.name=t.name,"Ball"===t.team?this.getTeamMemberCount()>1?this.playerError="TEAMMAXPLAYERS":(t.teamsError||(this.players[this.players.length-1].team=t.team),t.colorError||(this.players[this.players.length-1].color=t.color),this.forcePlayerUpdate=!0):this.getTeamMemberCount()+1>this.maxPlayers&&this.players[this.players.length-1].team!==t.team?this.playerError="TEAMMAXPLAYERS":""===t.number||this.checkIfSpareNumber(t.team,t.number)||this.players[this.players.length-1].number===t.number?(t.teamsError||(this.players[this.players.length-1].team=t.team),t.colorError||(this.players[this.players.length-1].color=t.color),!t.numberError&&this.checkIfSpareNumber(t.team,t.number)&&(this.players[this.players.length-1].number=t.number),t.nameError||(this.players[this.players.length-1].name=t.name),this.forcePlayerUpdate=!0):this.playerError="DUPLICATENUMBER"):this.PlayerFormValues=t:(this.PlayerFormValues.team=t.team,this.PlayerFormValues.color=t.color,-1!==this.selectedPlayer&&""!==t.number?this.PlayerFormValues.number=t.number:this.PlayerFormValues.number=this.getSpareNumber(t.team),""!==t.name?this.PlayerFormValues.name=t.name:this.PlayerFormValues.name="Player",-1!==this.selectedPlayer&&this.getTeamMemberCount()+1>this.maxPlayers&&this.players[this.players.length-1].team!==t.team?this.playerError="TEAMMAXPLAYERS":""===t.number||this.checkIfSpareNumber(t.team,t.number)?-1!==this.selectedPlayer&&(this.getTeamMemberCount()+1>this.maxPlayers?this.playerError="TEAMMAXPLAYERS":(t.teamsError||(this.players[this.players.length-1].team=this.PlayerFormValues.team),t.colorError||(this.players[this.players.length-1].color=this.PlayerFormValues.color),t.numberError||(this.players[this.players.length-1].number=this.PlayerFormValues.number),t.nameError||(this.players[this.players.length-1].name=this.PlayerFormValues.name),this.forcePlayerUpdate=!0)):-1!==this.selectedPlayer&&this.players[this.players.length-1].team!==t.team&&(this.playerError="DUPLICATENUMBER"),this.PlayerFormValues.teamChange=!1)},getPathFormValueUpdates:function(t){for(var e=new Array(t.length),i=0;i<t.length;i++){var r,n;r=t[i].speedError||""===t[i].speed?0:1609.34*parseFloat(t[i].speed)*(1/3600),n=t[i].waitError||""===t[i].wait?0:1e3*parseFloat(t[i].wait),e[i]={val:r,wait:n},this.PathFormValues[i]={speed:t[i].speed,wait:t[i].wait}}this.players[this.players.length-1].speed=e},createPlayer:function(t){var e;if(e=this.checkIfSpareNumber(this.PlayerFormValues.team,this.PlayerFormValues.number)?this.PlayerFormValues.number:this.getSpareNumber(this.PlayerFormValues.team),"Ball"===this.PlayerFormValues.team&&this.getTeamMemberCount()<1){var i=this.getPlayer(this.PlayerFormValues.team,this.ballColor,"","",[t],null);this.players.push(i)}else if("Ball"!==this.PlayerFormValues.team&&this.getTeamMemberCount()+1<=this.maxPlayers){var r=this.getPlayer(this.PlayerFormValues.team,this.PlayerFormValues.color,e,this.PlayerFormValues.name,[t],null);this.players.push(r),this.PlayerFormValues.number=this.getSpareNumber(r.team)}else this.playerError="TEAMMAXPLAYERS"},deletePlayer:function(){this.players.pop(),this.selectedPlayer=-1},editPlayerPath:function(t){this.players[this.players.length-1].path.push(t),this.players[this.players.length-1].speed.push({val:2.68224,wait:0}),this.PathFormValues.push({speed:"6",wait:""})},resetPlayerPath:function(){this.players[this.players.length-1].path=[this.players[this.players.length-1].path[0]],this.players[this.players.length-1].speed=[{val:2.68224,wait:0}],this.PathFormValues=[],this.selectedPlayer=-1},setPositions:function(t,e){t>=0&&t<this.players.length&&e&&(this.players[t].current.step=e.step,this.players[t].current.position=e.position,this.players[t].current.wait=e.wait)},resetPositions:function(){for(var t=0;t<this.players.length;t++)this.players[t].current.step=0,this.players[t].current.position=this.players[t].path[0],this.players[t].current.wait=0},updateDimensions:function(t){this.dimensions.width=t.width,this.dimensions.height=t.height,this.dimensions.orientation=t.orientation},getTeamMemberCount:function(){for(var t=0,e=0;e<this.players.length;e++)this.players[e].team===this.PlayerFormValues.team&&t++;return t},checkIfSpareNumber:function(t,e){if(""===e)return!1;for(var i=0;i<this.players.length;i++)if(t===this.players[i].team&&e===this.players[i].number)return!1;return!0},getSpareNumber:function(t){for(var e=1;e<=99;e++){for(var i=!1,r=0;r<this.players.length;r++)t===this.players[r].team&&e.toString(10)===this.players[r].number&&(i=!0);if(!i)return e.toString(10)}return"1"},getPlayer:function(t,e,i,r,n,s){var a={};return a.id=++this.uniqueIndex,a.team=t||"1",a.color=e||"#ffffff",a.number=i||""===i?i:this.getSpareNumber(a.team),a.name=r||""===r?r:"Player",n?(a.path=n,a.current={step:0,position:n[0],wait:0}):(a.path=[{x:0,y:0}],a.current={step:0,position:{x:0,y:0},wait:0}),a.speed=s||[{val:2.68224,wait:0}],a}}};y.render=l;var m=y;e["default"]=m},fc6a:function(t,e,i){var r=i("44ad"),n=i("1d80");t.exports=function(t){return r(n(t))}},fdbf:function(t,e,i){var r=i("4930");t.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})["default"]}));
